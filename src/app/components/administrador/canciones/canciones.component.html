
<section id="canciones" class="mt-5">
    <h2>Gestión de Canciones</h2>
    <p>Aquí puedes agregar, editar o eliminar canciones del sistema.</p>

    <!-- Buscador de Canciones -->
<div class="input-group mb-3">
    <span class="input-group-text"><i class="bi bi-search"></i></span>
    <input
      type="text"
      class="form-control"
      placeholder="Buscar por título, artista, género o ID"
      [(ngModel)]="terminoBusqueda"
      (input)="filtrarCanciones()"
    >
  </div>
  

    <!-- Tabla de Canciones -->
   <!-- Tabla de Canciones con scroll vertical -->
<div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>#</th>
          <th>Título</th>
          <th>Artista</th>
          <th>Género</th>
          <th>Reproducciones</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cancionesFiltradas">
          <td>{{ item.id }}</td>
          <td>{{ item.titulo }}</td>
          <td>{{ item.artista }}</td>
          <td>{{ item.genero }}</td>
          <td>{{ item.numero_de_reproducciones }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="abrirModalEditar(item)">Editar</button>

            <button class="btn btn-danger btn-sm" (click)="eliminarCancion(item.id)">Eliminar</button>

          </td>
        </tr>
      </tbody>
    </table>
  </div>
  

    <app-agregar-cancion></app-agregar-cancion>
    
</section>

<!-- Modal de edición -->
<div class="modal fade" id="modalEditarCancion" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalEditarLabel">Editar Canción</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <form (ngSubmit)="guardarEdicion()">
            <div class="mb-3">
              <label for="titulo" class="form-label">Título</label>
              <input type="text" class="form-control" id="titulo" [(ngModel)]="cancionEditando.titulo" name="titulo">
            </div>
            <div class="mb-3">
              <label for="artista" class="form-label">Artista</label>
              <input type="text" class="form-control" id="artista" [(ngModel)]="cancionEditando.artista" name="artista">
            </div>
            <div class="mb-3">
              <label for="genero" class="form-label">Género</label>
              <input type="text" class="form-control" id="genero" [(ngModel)]="cancionEditando.genero" name="genero">
            </div>
            <div class="mb-3">
              <label for="link" class="form-label">Link</label>
              <input type="text" class="form-control" id="link" [(ngModel)]="cancionEditando.link" name="link">
            </div>
            <button type="submit" class="btn btn-primary">Guardar cambios</button>
          </form>
        </div>
      </div>
    </div>
  </div>